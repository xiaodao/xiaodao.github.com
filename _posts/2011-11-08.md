---
layout: post
title: 要发布，请安全发布
category: 敏捷开发
tags: [devops, ]
---
上个月去海淀妇幼帮老婆挂号。

提前一天约了出租车到小区门口等，凌晨4点40起床，4点50上车，5点10分到了海淀妇幼门口。等轮到我的时候，专家号已经告罄，普通号挂到了第93号。据说有很多人都是3、4点钟就过来排队的。

但从前不用这样。我们可以在网上提前三天预约，拿到预约号慢慢悠悠过来直接等叫号就可以了。那怎么会变成现在这个样子呢？

事情还要从海淀妇幼切换网络预约系统说起。

9月20日，海淀妇幼发出公告，原预约系统服役7年至今，将退出历史舞台，全面采用新系统。

9月25日，海淀妇幼发出致歉，新预约系统与其他系统对接时出现字符集问题，影响诸多科室。故系统升级推后。

但是它并不是真的推后了，而是不但新的系统没上线，老的系统也不能用了。

两个多月来，没有人再能够通过网站预约，甚至大夫都再也无法帮助孕妇进行挂号。从9月25日到今天，海淀妇幼的微博上没有再出现一条系统升级的说明，只见到辛辛苦苦凌晨去排队挂号的孕妇及家人增加了一条又一条愤怒的评论。

这就是没有安全发布的后果。

正确的部署策略，请参见<a href="http://book.douban.com/subject/6862062/">《持续交付》</a>第10章，“应用程序的部署与发布”。